<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<script src="js/jquery-2.1.4.js"></script>
	<title>viewport</title>
	<style>
		*{
			margin: 0;
			padding: 0;
		}
		#item{
			width: 100px;
			height:100px;
			border: 1px solid blue;
			background: lightblue;
			margin: 10px auto;
		}
		#down{
			height: 1800px;
			background: lightblue;
		}
	</style>
</head>
<body>
	<div id="item">
		exist
	</div>
	<div id="down">
		ddd
	</div>
	<script>
		var lastScrollTop = 0;
		$(window).scroll(function() {
			var nowScrollTop = $(this).scrollTop();
			var direction = true;
			if(nowScrollTop < lastScrollTop){
				direction = false;
			}
			if(direction){
        		console.log("down");
        	}else{
        		console.log("up");
        	}
        	lastScrollTop = nowScrollTop;
    		var itemOffsetTop = $("#item").offset().top;
    		var itemOuterHeight = $("#item").outerHeight(true);
    		var windowFromBottomHeight = $(window).scrollTop() + $(window).height();
    		var windowScrollTop = $(window).scrollTop();
    		if((windowFromBottomHeight > itemOffsetTop) && (windowScrollTop < itemOuterHeight)){
        		console.log("visible");
        	}
    		else {
    			console.log("invisible");   
    		}
		});

	</script>
</body>
</html>